# 需求分析文档

## 1. 引言
### 项目背景
PyGISS-2024 是一个小型 GIS 系统，具备基本的 Shapefile 导入、地图可视化以及球面到平面坐标转换的功能。作为 GIS 软件工程课程的期末项目，本项目旨在基于 PyGISS 原有功能进行扩展，以实现更强的功能性和更好的用户体验。该系统将帮助地理信息科学专业的学生和初学者进行地理数据的可视化与简单分析。

### 开发目的
通过添加新功能、改进用户界面、解决现有的 bug，并使代码结构符合软件工程标准，增强 PyGISS 的功能性、实用性和交互体验，使其更适用于地理数据的可视化和简单分析。

### 项目范围
本项目的开发内容包括在 PyGISS 上新增至少三项功能，并对已有功能进行优化；提供详细的需求分析、安装说明和测试报告；确保代码和文档符合软件工程标准，并附有运行和测试的截图。

## 2. 总体描述
### 系统功能概述
PyGISS-2024 版本是基于 PyGISS 的扩展，支持 Shapefile 导入、节点导入与显示、地图投影转换（支持 EPSG:4326、EPSG:3571 和 EPSG:3035 等投影）、属性查询、地图导出和图层管理等功能。

### 用户特点
目标用户为地理信息科学专业的学生和初学者，使用 PyGISS 进行地理数据可视化和简单分析。

### 运行环境
支持 Windows 操作系统，运行环境为 Python 3.x，依赖 PyQt5、Shapely 等地理数据和 UI 库。

## 3. 功能需求
### 3.1 新增功能
#### 属性查询与显示
- **功能描述**：用户可以在地图上输入属性条件来查询并高亮显示符合条件的地理要素，同时可以浏览所有要素的属性表。
- **实现目标**：方便用户进行数据查询和信息浏览。
- **用户操作流程**：用户在属性查询区域输入条件后点击“查询”按钮，匹配要素将被高亮显示，同时显示所有要素的属性表。

#### 地图导出功能
- **功能描述**：支持将地图导出为 PNG、JPEG 或 PDF 格式，满足用户不同的地图共享和展示需求。
- **实现目标**：提高地图的共享性，方便用户在其他场合展示地图。
- **用户操作流程**：用户选择导出格式并点击“导出”按钮，地图保存到用户指定的位置。

#### 节点显示尺寸调整
- **功能描述**：用户可以通过滑动条动态调整节点的显示尺寸。
- **实现目标**：增强地图的可读性，满足用户个性化的显示需求。
- **用户操作流程**：用户拖动滑动条时，节点尺寸将同步调整。

### 3.2 优化的老功能
#### 地图数据的投影转换
- **功能描述**：支持地图数据在 EPSG:4326、EPSG:3571 和 EPSG:3035 等投影间转换。
- **优化点**：改进了投影转换的准确性，支持更多投影种类。
- **用户操作流程**：用户选择投影并点击“转换”按钮，地图会自动调整为所选投影。

#### 节点管理功能
- **功能描述**：提供节点数据的导入、可视化和部分删除功能，支持的导入格式包括 CSV 和 Excel 文件。
- **优化点**：增强节点数据处理的灵活性，提升显示效果。
- **用户操作流程**：用户可以导入包含经纬度的文件，将节点显示在地图上，或删除选定节点。

#### 图层管理功能
- **功能描述**：实现了图层的导入、清除和重新加载功能。
- **优化点**：提升图层管理的效率，使图层操作更直观便捷。
- **用户操作流程**：用户可以导入新图层，删除不需要的图层，或重新加载数据。

## 4. 非功能需求
- **性能要求**：保证投影转换、节点导入和地图渲染的响应速度，确保界面流畅，适应大规模数据集的处理。
- **可用性要求**：界面操作简单直观，按钮布局合理，满足用户基础数据可视化需求，遵循设计原则确保用户友好性。
- **可靠性要求**：在导入错误数据或执行无效操作时应有错误提示，并保证系统正常运行，记录日志以便追踪问题。
- **可维护性**：代码结构清晰，注释完整，便于后续功能扩展和维护。

## 5. 开发与运行环境
- **开发工具**：Python、PyCharm
- **运行平台**：Windows 10 或更新版本
- **依赖库**：PyQt5、Shapely、Pandas、Matplotlib
